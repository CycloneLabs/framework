$layout-background-color            : $color-default !default;
$layout-min-size                    : size(120) !default;
$layout-overlay-color               : $color-black !default;
$layout-overlay-transparency        : 0.4 !default;
$layout-container-background-color  : $color-white !default;
$layout-container-border-color      : "" !default;
$layout-container-edge-margin       : size(3) !default;
$layout-container-side-margin       : size(3) !default;

:module(Layout) {
  background-color: $layout-background-color;
  height: 100%;
  min-width: $layout-min-size;

  :component(Container) {
    display: block;
    padding-left: $layout-container-side-margin;
    padding-right: $layout-container-side-margin;

    &:modifier(Painted) {
      background-color: $layout-container-background-color;
      @include stroke(bottom $layout-container-border-color);
    }

    &:not(:modifier(Painted)) + :modifier(Painted),
    &:not(:modifier(Painted)) + * :modifier(Painted) {
      @include stroke(bottom top $layout-container-border-color);
    }

    &:modifier(Margined) {
      padding-bottom: $layout-container-edge-margin;
      padding-top: $layout-container-edge-margin;
    }
  }

  :component(Overlay) {
    background-color: rgba($layout-overlay-color, $layout-overlay-transparency);
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    z-index: $z-overlay;
  }
}

:module(Frame) {
  background-color: $color-white;
  height: 100%;
  margin: 0;
  min-width: $layout-min-size;

  :component(Layout) {
    background-color: rgba($color-black, .5);
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    z-index: $z-overlay;
  }

  :component(Container) {
    display: block;
    margin-left: size(9); //Dock width
    padding-left: size(3);
    padding-right: size(3);

    &:modifier(Backing) {
      background-color: $color-white;
      @include stroke(bottom);
    }

    &:not(:modifier(Backing)) + :modifier(Backing) {
      @include stroke(bottom top); //Bug if the Container is in a different parent than Container.Backing
    }

    &:modifier(Padded) {
      padding-bottom: size(3);
      padding-top: size(3);
    }
  }

  :modifier(Wide) {
    display: block;
    width: 100%;
  }

  [class] {
    box-sizing: border-box;
  }
  [tabindex] {
    outline: 0;
  }
}
